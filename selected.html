<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

    <title>SoundSpin</title>

    <style>
body {
background: #111;
color: white;
padding: 40px 0;
}
.song-card img {
border-radius: 10px;
}
.song-card {
background: #1c1c1c;
border-radius: 15px;
padding: 15px;
text-align: center;
}
.song-title {
font-size: 1.1rem;
margin-top: 10px;
font-weight: 600;
}
.section-title {
border-left: 5px solid #0d6efd;
padding-left: 10px;
margin-bottom: 20px;
}
/* Smooth hover animation */
.song-card {
transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.song-card:hover {
transform: scale(1.07);
box-shadow: 0 0 20px rgba(0, 123, 255, 0.5);
}

/* Fade-in animation */
.fade-in {
opacity: 0;
animation: fadeIn 0.8s forwards;
}
@keyframes fadeIn {
from { opacity: 0; transform: translateY(15px); }
to { opacity: 1; transform: translateY(0); }
}
</style>

<body>
<div class="container">
<h1 class="text-center mb-5">Your Selected Song</h1>

<!-- Selected Song -->
<div class="row justify-content-center mb-5">
<div class="col-md-4 song-card">
<img id="selectedImg" src="https://via.placeholder.com/300" class="img-fluid" />
<div id="selectedTitle" class="song-title">Selected Song Title</div>
</div>
</div>

<h2 class="section-title">Suggested Songs</h2>

<!-- Suggested Songs -->
<div class="row" id="suggestedContainer">
<!-- JS will populate here -->
</div>
</div>


<script>
// Read selected song from URL parameters
const params = new URLSearchParams(window.location.search);
const selectedTitleParam = params.get("title") || "Unknown Song";
const selectedImgParam = params.get("img") || "https://via.placeholder.com/300";

// Assign selected song
document.getElementById("selectedImg").src = selectedImgParam;
document.getElementById("selectedTitle").textContent = selectedTitleParam;

// Smarter suggested songs list (same artist/genre placeholder logic)
// Example smarter suggested songs
const allSongs = [
{ title: "Blinding Lights", artist: "The Weeknd", genre: "Pop", tone: "Energetic", img: "https://upload.wikimedia.org/wikipedia/en/0/09/The_Weeknd_-_Blinding_Lights.png" },
{ title: "Save Your Tears", artist: "The Weeknd", genre: "Pop", tone: "Melancholic", img: "https://upload.wikimedia.org/wikipedia/en/1/13/The_Weeknd_-_Save_Your_Tears.png" },
{ title: "Starboy", artist: "The Weeknd", genre: "Pop", tone: "Energetic", img: "https://upload.wikimedia.org/wikipedia/en/3/39/The_Weeknd_-_Starboy.png" },
{ title: "Can't Feel My Face", artist: "The Weeknd", genre: "Pop", tone: "Energetic", img: "https://upload.wikimedia.org/wikipedia/en/0/04/The_Weeknd_-_Can%27t_Feel_My_Face.png" },
{ title: "In Your Eyes", artist: "The Weeknd", genre: "Pop", tone: "Smooth", img: "https://upload.wikimedia.org/wikipedia/en/3/3d/The_Weeknd_-_In_Your_Eyes.png" },
{ title: "Out of Time", artist: "The Weeknd", genre: "R&B", tone: "Soft", img: "https://upload.wikimedia.org/wikipedia/en/c/c2/The_Weeknd_-_Out_of_Time.png" }
];

const selectedSongData = allSongs.find(s => s.title === selectedTitleParam);

let suggestedSongs = allSongs.filter(song =>
song.title !== selectedTitleParam && (
song.artist === selectedSongData.artist ||
song.genre === selectedSongData.genre ||
song.tone === selectedSongData.tone
)
).slice(0, 4);

// Render suggested songs
const container = document.getElementById("suggestedContainer");
container.innerHTML = "";

suggestedSongs.forEach(song => {
const col = document.createElement("div");
col.className = "col-md-3 mb-4";

col.innerHTML = `
<a href="selected.html?title=${encodeURIComponent(song.title)}&img=${encodeURIComponent(song.img)}" style="text-decoration:none;color:white;">
<div class="song-card">
<img src="${song.img}" class="img-fluid" />
<div class="song-title">${song.title}</div>
</div></a>`;

col.classList.add('fade-in');
container.appendChild(col);
});

// Add navigation buttons
const nav = document.createElement("div");
nav.className = "text-center mt-5";
nav.innerHTML = `
<a href="title.html" class="btn btn-secondary me-2">Back to Song List</a>
<a href="wheel.html?title=${encodeURIComponent(selectedTitleParam)}&img=${encodeURIComponent(selectedImgParam)}" class="btn btn-primary">Spin Again</a>
`;
document.querySelector(".container").appendChild(nav);
</script>
</body>
</html>